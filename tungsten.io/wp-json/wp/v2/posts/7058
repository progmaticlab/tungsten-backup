{"id":7058,"date":"2016-06-16T12:35:37","date_gmt":"2016-06-16T19:35:37","guid":{"rendered":"http:\/\/www.opencontrail.org\/?p=7058"},"modified":"2016-06-16T12:35:37","modified_gmt":"2016-06-16T19:35:37","slug":"physical-network-function-service-chaining-with-contrail","status":"publish","type":"post","link":"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/","title":{"rendered":"Physical Network Function (PNF) service chaining with Contrail"},"content":{"rendered":"<p>When it comes to service functions there is a huge amount of focus on making the shift to virtualization or NFV. Virtual Network Functions (VNF) can be Firewalls, Load Balancers, routers, route reflectors, BNGs, EPCs, the list goes on. This is not without good reason as virtualization comes with many benefits such as increased agility, simpler automation, more granular scaling, licensing models that allow a true \u201cpay as you grow\u201d business model and in general the opportunity for Service Providers to revolutionize how they offer services to their customers. So why would we want to keep using physical network functions (PNF) and develop SDN solutions that support these PNF? Well, there are actually some pretty good reasons. Firstly, many service providers have made huge investments in these appliance based solutions and quite rightly expect to continue to realize the benefit of these investments for some years into the future. Secondly, when it come to raw throughput performance ASIC based forwarding is still far superior compared to x86 powered forwarding.\u00a0 Serious improvements have been made but the gap is still wide.<\/p>\n<p>As you probably know, Contrail provides the capability to insert network functions providing network services like those described above in the traffic path between two different virtual networks on demand and in a dynamic way.\u00a0 There is no explicit dependency on the network function itself to allow service stitching to happen. As of the most recent Contrail releases PNF service chaining is also supported, we can now create service chains that are PNF only, VNF only or a hybrid of PNF and VNF with multiple instances of both physical and virtual in a single service chain. These PNF and VNF are included as part of network policy definition that is applied between two virtual networks as has always been the case for VNF service chaining. While using slightly different mechanisms under the hood to realize the correct route-leaking and next-hop updates that ensure traffic between the two virtual networks is correctly directed through the service appliances, the logic for PNF service chaining is the same as that used in the VNF service chaining approach. The main difference is that in the case of PNF service chaining Contrail pushes the required configuration to the MX router via Netconf rather than installing forwarding state on the vrouters running on the compute nodes. What\u2019s really nice is that you can add many distinct chains running over the same physical appliance using the same interfaces, with each chain using different VLAN tag in order to maintain traffic segregation on the PNF.<\/p>\n<p>Below is an example workflow of traffic flowing between two virtual networks\/zones that is subject to a physical and\/or virtual network services and an additional service chain between two different virtual networks that uses the same appliance. Some of this is covered in the video below.<\/p>\n<p><iframe loading=\"lazy\" src=\"https:\/\/www.youtube.com\/embed\/zlpdtqxgqQU\" width=\"600\" height=\"340\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\"><\/iframe><\/p>\n<p>This is an attempt to show how to unleash the power of automation by leveraging existing network services as well as virtual services for Cloud environments!<\/p>\n","protected":false},"excerpt":{"rendered":"<p>When it comes to service functions there is a huge amount of focus on making the shift to virtualization or NFV. Virtual Network Functions (VNF) can be Firewalls, Load Balancers,&#8230;<\/p>\n","protected":false},"author":490,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[12,26],"tags":[],"acf":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v21.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Physical Network Function (PNF) service chaining with Contrail - Tungsten Fabric<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Physical Network Function (PNF) service chaining with Contrail - Tungsten Fabric\" \/>\n<meta property=\"og:description\" content=\"When it comes to service functions there is a huge amount of focus on making the shift to virtualization or NFV. Virtual Network Functions (VNF) can be Firewalls, Load Balancers,...\" \/>\n<meta property=\"og:url\" content=\"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/\" \/>\n<meta property=\"og:site_name\" content=\"Tungsten Fabric\" \/>\n<meta property=\"article:published_time\" content=\"2016-06-16T19:35:37+00:00\" \/>\n<meta name=\"author\" content=\"Graeme Robertson\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/\",\"url\":\"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/\",\"name\":\"Physical Network Function (PNF) service chaining with Contrail - Tungsten Fabric\",\"isPartOf\":{\"@id\":\"https:\/\/tungsten.io\/#website\"},\"datePublished\":\"2016-06-16T19:35:37+00:00\",\"dateModified\":\"2016-06-16T19:35:37+00:00\",\"author\":{\"@id\":\"https:\/\/tungsten.io\/#\/schema\/person\/afe3a700805e4693577c5f0b65ebf171\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/\"]}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/tungsten.io\/#website\",\"url\":\"https:\/\/tungsten.io\/\",\"name\":\"Tungsten Fabric\",\"description\":\"multicloud multistack SDN\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/tungsten.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/tungsten.io\/#\/schema\/person\/afe3a700805e4693577c5f0b65ebf171\",\"name\":\"Graeme Robertson\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/tungsten.io\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/aaea146f12503cf121fb08302e1fa492?s=96&d=mm&r=pg\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/aaea146f12503cf121fb08302e1fa492?s=96&d=mm&r=pg\",\"caption\":\"Graeme Robertson\"},\"url\":\"https:\/\/tungsten.io\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Physical Network Function (PNF) service chaining with Contrail - Tungsten Fabric","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/","og_locale":"en_US","og_type":"article","og_title":"Physical Network Function (PNF) service chaining with Contrail - Tungsten Fabric","og_description":"When it comes to service functions there is a huge amount of focus on making the shift to virtualization or NFV. Virtual Network Functions (VNF) can be Firewalls, Load Balancers,...","og_url":"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/","og_site_name":"Tungsten Fabric","article_published_time":"2016-06-16T19:35:37+00:00","author":"Graeme Robertson","twitter_card":"summary_large_image","schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/","url":"https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/","name":"Physical Network Function (PNF) service chaining with Contrail - Tungsten Fabric","isPartOf":{"@id":"https:\/\/tungsten.io\/#website"},"datePublished":"2016-06-16T19:35:37+00:00","dateModified":"2016-06-16T19:35:37+00:00","author":{"@id":"https:\/\/tungsten.io\/#\/schema\/person\/afe3a700805e4693577c5f0b65ebf171"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/tungsten.io\/physical-network-function-service-chaining-with-contrail\/"]}]},{"@type":"WebSite","@id":"https:\/\/tungsten.io\/#website","url":"https:\/\/tungsten.io\/","name":"Tungsten Fabric","description":"multicloud multistack SDN","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/tungsten.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/tungsten.io\/#\/schema\/person\/afe3a700805e4693577c5f0b65ebf171","name":"Graeme Robertson","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/tungsten.io\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/aaea146f12503cf121fb08302e1fa492?s=96&d=mm&r=pg","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/aaea146f12503cf121fb08302e1fa492?s=96&d=mm&r=pg","caption":"Graeme Robertson"},"url":"https:\/\/tungsten.io"}]}},"_links":{"self":[{"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/posts\/7058"}],"collection":[{"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/users\/490"}],"replies":[{"embeddable":true,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/comments?post=7058"}],"version-history":[{"count":0,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/posts\/7058\/revisions"}],"wp:attachment":[{"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/media?parent=7058"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/categories?post=7058"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/tags?post=7058"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}