{"id":8172,"date":"2019-08-23T16:24:07","date_gmt":"2019-08-23T23:24:07","guid":{"rendered":"https:\/\/tungsten.io\/?p=8172"},"modified":"2019-08-23T16:24:49","modified_gmt":"2019-08-23T23:24:49","slug":"getting-started-with-tungsten-fabric-using-tf-devstack","status":"publish","type":"post","link":"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/","title":{"rendered":"Getting Started with Tungsten Fabric using tf-devstack"},"content":{"rendered":"<p>To help potential users test out Tungsten Fabric quickly, the community recommends installing tf-devstack on a. This post outlines how to do that.<\/p>\n<p>As a part of my first Google Summer of Code (<a href=\"https:\/\/summerofcode.withgoogle.com\">GSOC<\/a>) experience, tf-devstack has been a great walkthrough of how to deploy Tungsten Fabric from published containers or building directly from the source using instances spawned in AWS, Openstack, or your local laptop. Find the latest instance of tf-devstack in the <a href=\"https:\/\/github.com\/tungstenfabric\/tf-devstack\">Tungsten Fabric repository<\/a>.<\/p>\n<p>In this walk through, I will be showing how to setup tf-devstack referring to the link above on whatever system you chose. The most exciting thing about the tf-devstack is that this tool brings up Tungsten Fabric along with Kubernetes on a single node deployment. With this Kubernetes deployment, Tungsten Fabric offers many capabilities, such as pod addressing, network isolation, gateway services, load balancing in services, etc.<\/p>\n<p><strong>Recommendations for Hardware\/Software requirements:<\/strong><\/p>\n<ul>\n<li>CentOS 7 (x86_64) &#8211; with Updates HVM<\/li>\n<li>xlarge instance type<\/li>\n<li>50 GiB disk Storage<\/li>\n<\/ul>\n<p><strong>Quick start on an <\/strong><strong>AWS instance: <\/strong><\/p>\n<ol>\n<li>Create an instance using the specifications in the previous section. This walkthrough uses AWS.<\/li>\n<li>SSH into the instance launched using the public IP address.<\/li>\n<\/ol>\n<p><em>ssh centos@&lt;public_instance_ipaddress&gt;<\/em><\/p>\n<ol start=\"3\">\n<li>Get root access<\/li>\n<\/ol>\n<p><em>sudo su<\/em><\/p>\n<ol start=\"4\">\n<li>In case of centos, yum may be used to install git to clone the repository \u2013<\/li>\n<\/ol>\n<p><em>\u00a0yum install -y git<\/em><\/p>\n<ol start=\"5\">\n<li>Clone the repository and start the contrail networking deployment process\u2013<\/li>\n<\/ol>\n<p><em>git clone https:\/\/github.com\/tungstenfabric\/tf-devstack<\/em><\/p>\n<p><em>cd tf-devstack<\/em><\/p>\n<p><em>export K8S_VERSION=1.12.7<\/em><\/p>\n<p><em>.\/startup.sh<\/em><\/p>\n<p>This script allows the root user to connect to a host via ssh, install and configure docker, build contrail-dev-control container and helps the user start the contrail networking deployment process.<\/p>\n<p><strong>Known errors \u2013 <\/strong><\/p>\n<ol>\n<li>Permission denied or unable to establish connection \u2013It is important to map the private IP address with the public IP address in order to gain access to the UI for the contrail deployed on the instance. Thus, the user should not forget to add the inbound security rule for a custom TCP connection on port 8143 since the contrail works on port 8143.<\/li>\n<\/ol>\n<ol start=\"2\">\n<li>Occasional errors prevent deployment of Kubernetes on a VirtualBox machine; retry can help. Also, keep in mind this is not idempotent, hence there might be broken connections which the user might not be able to figure out. Hence, spawning a new instance may be recommended.<\/li>\n<\/ol>\n<p><strong>Getting Access to the Tungsten Fabric UI &#8211; <\/strong><\/p>\n<p>After being successfully able to run the scripts above to get started you may be prompted with the username and id with the service deployed on the public IP address with the help of which you may be able to log into the Tungsten Fabric UI.<\/p>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone  wp-image-8174\" src=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-1B-300x187.png\" alt=\"\" width=\"497\" height=\"310\" srcset=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-1B-300x187.png 300w, https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-1B-1024x640.png 1024w\" sizes=\"(max-width: 497px) 100vw, 497px\" \/><\/p>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone  wp-image-8173\" src=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blof-2B-300x187.png\" alt=\"\" width=\"496\" height=\"309\" srcset=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blof-2B-300x187.png 300w, https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blof-2B-1024x640.png 1024w\" sizes=\"(max-width: 496px) 100vw, 496px\" \/><\/p>\n<p><strong>Creating Workloads in Kubernetes \u2013 <\/strong><\/p>\n<p>Users must keep in mind that Kubernetes sometimes prevents from pushing pods\/workloads to the control nodes. Also, having a single node working, the user needs to remove the taint while working with the following command hence removing the taint from the host.<\/p>\n<p>kubectl taint nodes NODENAME node-role.kubernetes.io\/master-, where NODENAME is name from &#8220;kubectl get node&#8221;<\/p>\n<p>It\u2019s time to relax and start your service now with Kubernetes!<\/p>\n<ol>\n<li><strong>Create a basic test.yaml<\/strong><\/li>\n<\/ol>\n<p>Follow the link <a href=\"https:\/\/github.com\/kubernetes\/examples\">https:\/\/github.com\/kubernetes\/examples<\/a> to learn on how to create a sample test.yaml for your first service deployment. Here is one example that I am using from the link below &#8211;<em>https:\/\/github.com\/paulbouwer\/hello-kubernetes<\/em><\/p>\n<p>Refer to the wiki pages for kubernetes for basic references on how it works.<\/p>\n<ol start=\"2\">\n<li><strong>use Kubectl to upgrade\/operate the cluster and deploy the objects.<\/strong><\/li>\n<\/ol>\n<p>This service may also be used to deploy your first Hello World service. <em>kubectl apply -f test.yaml<\/em><\/p>\n<p>&nbsp;<\/p>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone  wp-image-8182\" src=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-hello-k8s-300x41.jpg\" alt=\"\" width=\"541\" height=\"74\" srcset=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-hello-k8s-300x41.jpg 300w, https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-hello-k8s.jpg 950w\" sizes=\"(max-width: 541px) 100vw, 541px\" \/><\/p>\n<ol start=\"3\">\n<li>Check the status of your pods using:<\/li>\n<\/ol>\n<p><em>kubectl get pods<\/em><\/p>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone  wp-image-8179\" src=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-3-300x56.jpg\" alt=\"\" width=\"546\" height=\"102\" srcset=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-3-300x56.jpg 300w, https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-3.jpg 964w\" sizes=\"(max-width: 546px) 100vw, 546px\" \/><\/p>\n<p>Congratulations, you are now a master of Kubernetes who has deployed the service simple using the tf-devstack. Never thought it would be this easy :p<\/p>\n<p>At last, the user may be able to check the endpoints of their service and test it out.<\/p>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone  wp-image-8180\" src=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-Blog-4-300x40.jpg\" alt=\"\" width=\"563\" height=\"75\" srcset=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-Blog-4-300x40.jpg 300w, https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-Blog-4.jpg 1006w\" sizes=\"(max-width: 563px) 100vw, 563px\" \/><\/p>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone  wp-image-8181\" src=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-Blog-5-300x139.jpg\" alt=\"\" width=\"563\" height=\"261\" srcset=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-Blog-5-300x139.jpg 300w, https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-Blog-5.jpg 981w\" sizes=\"(max-width: 563px) 100vw, 563px\" \/><\/p>\n<p>In order to reach your end points, try using the curl command as per the screenshot above and see your application deployed now.<\/p>\n<p>Lastly, to be able to enable logs enable the dstat service and check the performance for your system. Tcpdump may be used as well.<\/p>\n<p>I hope you enjoyed reading about and the implementation of your very own network containerized environment using tf-devstack.<\/p>\n<p><strong>ABOUT THE AUTHOR<\/strong><\/p>\n<p><em>Nishita Sikka is \u00a0a graduate student at Northeastern University, pursuing an MS in computer system networking and telecommunications. Her Google Summer Of Code experience with Tungsten Fabrics has allowed her explore more on cloud technologies, automation tools, and networking.\u00a0 She worked with Ansible and Kubernetes aid is making her way with Python and learning to integrate networking with automation. Besides being super passionate about working on independent projects and practicing code, she enjoys sports and Crossfit.<\/em><\/p>\n","protected":false},"excerpt":{"rendered":"<p>To help potential users test out Tungsten Fabric quickly, the community recommends installing tf-devstack on a. This post outlines how to do that. As a part of my first Google&#8230;<\/p>\n","protected":false},"author":455,"featured_media":0,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[1],"tags":[],"acf":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v21.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Getting Started with Tungsten Fabric using tf-devstack - Tungsten Fabric<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Getting Started with Tungsten Fabric using tf-devstack - Tungsten Fabric\" \/>\n<meta property=\"og:description\" content=\"To help potential users test out Tungsten Fabric quickly, the community recommends installing tf-devstack on a. This post outlines how to do that. As a part of my first Google...\" \/>\n<meta property=\"og:url\" content=\"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/\" \/>\n<meta property=\"og:site_name\" content=\"Tungsten Fabric\" \/>\n<meta property=\"article:published_time\" content=\"2019-08-23T23:24:07+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2019-08-23T23:24:49+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-1B-300x187.png\" \/>\n<meta name=\"author\" content=\"tungstenfabric\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/\",\"url\":\"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/\",\"name\":\"Getting Started with Tungsten Fabric using tf-devstack - Tungsten Fabric\",\"isPartOf\":{\"@id\":\"https:\/\/tungsten.io\/#website\"},\"datePublished\":\"2019-08-23T23:24:07+00:00\",\"dateModified\":\"2019-08-23T23:24:49+00:00\",\"author\":{\"@id\":\"https:\/\/tungsten.io\/#\/schema\/person\/9d1cee939f67e25cd95e3d6fd76ff3af\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/\"]}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/tungsten.io\/#website\",\"url\":\"https:\/\/tungsten.io\/\",\"name\":\"Tungsten Fabric\",\"description\":\"multicloud multistack SDN\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/tungsten.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/tungsten.io\/#\/schema\/person\/9d1cee939f67e25cd95e3d6fd76ff3af\",\"name\":\"tungstenfabric\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/tungsten.io\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/a057983b5736b3bd0d8d86035d10c0a2?s=96&d=mm&r=pg\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/a057983b5736b3bd0d8d86035d10c0a2?s=96&d=mm&r=pg\",\"caption\":\"tungstenfabric\"},\"url\":\"https:\/\/tungsten.io\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Getting Started with Tungsten Fabric using tf-devstack - Tungsten Fabric","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/","og_locale":"en_US","og_type":"article","og_title":"Getting Started with Tungsten Fabric using tf-devstack - Tungsten Fabric","og_description":"To help potential users test out Tungsten Fabric quickly, the community recommends installing tf-devstack on a. This post outlines how to do that. As a part of my first Google...","og_url":"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/","og_site_name":"Tungsten Fabric","article_published_time":"2019-08-23T23:24:07+00:00","article_modified_time":"2019-08-23T23:24:49+00:00","og_image":[{"url":"https:\/\/tungsten.io\/wp-content\/uploads\/sites\/73\/2019\/08\/TF-blog-1B-300x187.png"}],"author":"tungstenfabric","twitter_card":"summary_large_image","schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/","url":"https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/","name":"Getting Started with Tungsten Fabric using tf-devstack - Tungsten Fabric","isPartOf":{"@id":"https:\/\/tungsten.io\/#website"},"datePublished":"2019-08-23T23:24:07+00:00","dateModified":"2019-08-23T23:24:49+00:00","author":{"@id":"https:\/\/tungsten.io\/#\/schema\/person\/9d1cee939f67e25cd95e3d6fd76ff3af"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/tungsten.io\/getting-started-with-tungsten-fabric-using-tf-devstack\/"]}]},{"@type":"WebSite","@id":"https:\/\/tungsten.io\/#website","url":"https:\/\/tungsten.io\/","name":"Tungsten Fabric","description":"multicloud multistack SDN","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/tungsten.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/tungsten.io\/#\/schema\/person\/9d1cee939f67e25cd95e3d6fd76ff3af","name":"tungstenfabric","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/tungsten.io\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/a057983b5736b3bd0d8d86035d10c0a2?s=96&d=mm&r=pg","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/a057983b5736b3bd0d8d86035d10c0a2?s=96&d=mm&r=pg","caption":"tungstenfabric"},"url":"https:\/\/tungsten.io"}]}},"_links":{"self":[{"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/posts\/8172"}],"collection":[{"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/users\/455"}],"replies":[{"embeddable":true,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/comments?post=8172"}],"version-history":[{"count":0,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/posts\/8172\/revisions"}],"wp:attachment":[{"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/media?parent=8172"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/categories?post=8172"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/tungsten.io\/wp-json\/wp\/v2\/tags?post=8172"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}