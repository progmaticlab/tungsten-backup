<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Security Archives - Tungsten Fabric</title>
	<atom:link href="https://tungsten.io/category/security/feed/" rel="self" type="application/rss+xml" />
	<link>https://tungsten.io/category/security/</link>
	<description>multicloud multistack SDN</description>
	<lastBuildDate>Thu, 25 Aug 2016 18:22:08 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.4.1</generator>

<image>
	<url>https://tungsten.io/wp-content/uploads/sites/73/2018/03/cropped-TungstenFabric_Stacked_Gradient_3000px-150x150.png</url>
	<title>Security Archives - Tungsten Fabric</title>
	<link>https://tungsten.io/category/security/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>How OpenContrail Implements Secure Virtual Overlay Networks</title>
		<link>https://tungsten.io/how-opencontrail-implements-secure-virtual-overlay-networks/</link>
		
		<dc:creator><![CDATA[Amy Wong]]></dc:creator>
		<pubDate>Thu, 25 Aug 2016 18:22:08 +0000</pubDate>
				<category><![CDATA[Multi Tenancy]]></category>
		<category><![CDATA[SDN]]></category>
		<category><![CDATA[Security]]></category>
		<guid isPermaLink="false">http://www.opencontrail.org/?p=7185</guid>

					<description><![CDATA[The goal that Edgar, Jakub, and Lachlan share, is to create for public cloud users, the same experience that private cloud users have: peace of mind that their information is...]]></description>
										<content:encoded><![CDATA[<p><iframe src="https://www.youtube.com/embed/SbZhexWj35g?rel=0&amp;showinfo=0" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p>The goal that Edgar, Jakub, and Lachlan share, is to create for public cloud users, the same experience that private cloud users have: peace of mind that their information is secure. But first, they tackle the issue of helping their customers migrate their IT infrastructure to the cloud with continuous communication. They need technology that gives them granular visibility and control over security policies over every workload, whether those workloads are on bare-metal server, or in a virtualized environment. They need to have visibility into and control over everything down to the network level.</p>
<p>These providers want to provide a consistently secure experience for their users across cloud providers that’s fully automated (no manual configuration of static VPNs). They turned to <a href="https://www.juniper.net/assets/us/en/local/pdf/solutionbriefs/3510582-en.pdf?utm_source=OCAB_Panel&amp;utm_medium=Youtube&amp;utm_campaign=SolutionBrief" rel="nofollow noopener noreferrer">OpenContrail</a> to implement secure virtual overlay networks to logically separate departments, and integrate virtualized workloads in both public and private clouds. Using standards-based protocols, OpenContrail allows enterprises to use their existing physical infrastructure (supporting BGP) for their on-prem infrastructure.</p>
<p>The rest of this video series will be published weekly. Subscribe to Juniper’s YouTube channel using the below button to get notified about the new episodes every week. Stay tuned for Episode 3!</p>
<p><iframe id="fr" src="https://www.youtube.com/subscribe_widget?p=JuniperNetworks" width="300" height="75" frameborder="0" scrolling="no" data-mce-fragment="1"></iframe></p>
<p>To learn more:</p>
<p>In case you missed it, here&#8217;s <a href="https://www.youtube.com/watch?v=YKWqgDcu2iY" target="_self" rel="nofollow noopener noreferrer">Episode 1</a>.</p>
<p>Try out <a href="http://www.opencontrail.org/" target="_blank" rel="nofollow noopener noreferrer">OpenContrail</a> for yourself risk-free today!<br />
Download Contrail source code: <a href="https://github.com/Juniper/contrail-controller" target="_blank" rel="nofollow noopener noreferrer">https://github.com/Juniper/contrail-controller</a><br />
Download Contrail package: <a href="http://www.juniper.net/support/downloads/?p=contrail#sw" target="_blank" rel="nofollow noopener noreferrer">http://www.juniper.net/support/downloads/?p=contra<wbr />il#sw</a></p>
<p>Don’t forget to follow us on our <a href="https://twitter.com/OpenContrail" target="_blank" rel="nofollow noopener noreferrer">Twitter</a>, <a href="https://www.facebook.com/opencontrail/?fref=ts" target="_blank" rel="nofollow noopener noreferrer">Facebook</a> and <a href="https://www.linkedin.com/groups/6517760" target="_blank" rel="nofollow noopener noreferrer">LinkedIn</a> social media sites.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Data Center Micro Segmentation in Contrail Virtual Networks</title>
		<link>https://tungsten.io/data-center-micro-segmentation-in-contrail-virtual-networks/</link>
		
		<dc:creator><![CDATA[Vivekananda Shenoy]]></dc:creator>
		<pubDate>Wed, 16 Dec 2015 22:34:46 +0000</pubDate>
				<category><![CDATA[DataCenter]]></category>
		<category><![CDATA[Security]]></category>
		<guid isPermaLink="false">http://www.opencontrail.org/?p=6880</guid>

					<description><![CDATA[Micro segmentation divides the data center into smaller, more-protected zones.  The servers can be added to multiple application tiers and depending on the type of application, traffic flow is controlled...]]></description>
										<content:encoded><![CDATA[<p>Micro segmentation divides the data center into smaller, more-protected zones.  The servers can be added to multiple application tiers and depending on the type of application, traffic flow is controlled when it flows from one tier to another tier rather than individual server ports. In a real world scenario an application tier may not have a 1:1 mapping to a Layer 3 subnet.  So applying firewall rules on the physical or virtual firewall appliance based on the IP address of the server becomes highly un-manageable and not scalable.</p>
<p>With Contrail security groups feature one can follow a declarative model to label the servers based on the application it is catering to and then constructing security rules to define the traffic flow between these different applications rather than referring to IP addresses.</p>
<h4>Use case example:</h4>
<p>As shown in the below figure the subnet 172.16.0.0/16 is hosting all the servers and these servers may be any of web, application or database servers depending on the end-application requirement. In this specific example we have 2 servers in each tier.</p>
<p>As shown by the arrows at the bottom of the figure the idea is to make sure that the web tier can talk to the app tier and the app tier can access the db tier , but the web tier cannot access the db tier directly.</p>
<p>For the simplicity purpose the use case in this example is demonstrated using ssh.</p>
<p><img fetchpriority="high" decoding="async" class="aligncenter wp-image-6881 size-full" src="http://www.opencontrail.org/wp-content/uploads/2015/12/opencontrail_DC_microsegmentation_blogpost_image1.png" alt="opencontrail_DC_microsegmentation_blogpost_image1" width="596" height="554" data-id="6881" /></p>
<h4>Configuration steps:</h4>
<p>The idea here is to create security groups one for each tier. And under the security group match condition we will match the traffic flow between different application tiers by matching the security group names we have created for each of the application tier and the traffic direction instead of matching individual server IP address or subnets. And then launch the VMs by associating them with the respective security groups based on the tier they were launched.</p>
<p><a href="http://www.opencontrail.org/wp-content/uploads/2015/12/opencontrail_DC_microsegmentation_blogpost_image2.png"><img loading="lazy" decoding="async" class="wp-image-6882 alignleft" src="http://www.opencontrail.org/wp-content/uploads/2015/12/opencontrail_DC_microsegmentation_blogpost_image2.png" alt="opencontrail_DC_microsegmentation_blogpost_image2" width="800" height="619" data-id="6882" /></a></p>
<p>&nbsp;</p>
<p><a href="http://www.opencontrail.org/wp-content/uploads/2015/12/opencontrail_DC_microsegmentation_blogpost_image3.png"><img loading="lazy" decoding="async" class="alignleft wp-image-6883" src="http://www.opencontrail.org/wp-content/uploads/2015/12/opencontrail_DC_microsegmentation_blogpost_image3.png" alt="opencontrail_DC_microsegmentation_blogpost_image3" width="800" height="155" data-id="6883" /></a></p>
<h4>Verification:</h4>
<p>Check 1: Login to a machine in web tier and ssh to VMs in app tier. Ssh should be allowed to pass through.</p>
<p><img loading="lazy" decoding="async" class="aligncenter wp-image-6884" src="http://www.opencontrail.org/wp-content/uploads/2015/12/opencontrail_DC_microsegmentation_blogpost_image4.png" alt="opencontrail_DC_microsegmentation_blogpost_image4" width="800" height="460" data-id="6884" /></p>
<p>Check 2: Login to a machine in web tier and ssh to a VM in database tier. Ssh should be blocked.</p>
<p><img loading="lazy" decoding="async" class="aligncenter wp-image-6885" src="http://www.opencontrail.org/wp-content/uploads/2015/12/opencontrail_DC_microsegmentation_blogpost_image5.png" alt="opencontrail_DC_microsegmentation_blogpost_image5" width="800" height="462" data-id="6885" /></p>
<p>&nbsp;</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Ways to introduce secure multi-tenancy to VMware/vCenter clusters via open source network virtualization.</title>
		<link>https://tungsten.io/integrating-opencontrail-with-vcenteresxi-virtualization-platform/</link>
		
		<dc:creator><![CDATA[Aniket Daptari]]></dc:creator>
		<pubDate>Mon, 23 Mar 2015 01:57:47 +0000</pubDate>
				<category><![CDATA[Orchestration]]></category>
		<category><![CDATA[Security]]></category>
		<category><![CDATA[Uncategorized]]></category>
		<guid isPermaLink="false">http://www.opencontrail.org/?p=6014</guid>

					<description><![CDATA[Note: This blog is co-authored by Sachchidanand Vaidya and Aniket Daptari from Juniper Networks. Introduction This document describes the different options to integrate OpenContrail with vCenter/ESXi virtualization platform. Further, it...]]></description>
										<content:encoded><![CDATA[<p>Note: This blog is co-authored by <strong>Sachchidanand Vaidya</strong> and <strong>Aniket Daptari</strong> from Juniper Networks.</p>
<h4>Introduction</h4>
<p>This document describes the different options to integrate OpenContrail with vCenter/ESXi virtualization platform. Further, it also describes the OpenContrail + vCenter integration in detail.</p>
<p>The following section describes four alternatives to integrate OpenContrail with vCenter/ESXi.</p>
<h4>Option 1</h4>
<p>This option provides ESXi as a supported hypervisor under OpenStack. For those users who have certified ESXi workloads, don’t want to pay for vCenter licenses and want to work with open systems, Option 1 provides a migration path to OpenStack with OpenContrail providing the full-featured cloud solution. OpenContrail will support the ESXi nova driver for this option.</p>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-6015 aligncenter" src="http://www.opencontrail.org/wp-content/uploads/2015/03/vCenter_blog_image1.png" alt="vCenter_blog_image1" width="443" height="326" data-id="6015" /></p>
<p style="text-align: center;">Figure 1 ESXi as Compute with OpenContrail</p>
<p>Jakub Pavlik from tcpCloud performed some tests using this option and has blogged his experience <a href="http://www.opencontrail.org/integrating-vmware-esxi-with-openstack-opencontrail/">here</a>.</p>
<h4>Option 2</h4>
<p>OpenContrail provides an open network virtualization solution in a vCenter only environment. More details about this option are described in later sections of the document. This Option also allows customers to federate the vCenter Cluster with an OpenStack cloud to facilitate “Cap and Grow”.</p>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-6016 aligncenter" src="http://www.opencontrail.org/wp-content/uploads/2015/03/vCenter_blog_image2.png" alt="vCenter_blog_image2" width="313" height="323" data-id="6016" /></p>
<p style="text-align: center;">Figure 2 OpenContrail and vCenter only Integration</p>
<h4>Option 3</h4>
<p>Under this option, the vCenter cluster is represented as a compute node under OpenStack. This way, OpenStack can be used to orchestrate workloads for both KVM and ESXi hypervisors. The workloads on ESXi hosts will be scheduled by vCenter.</p>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-6017 aligncenter" src="http://www.opencontrail.org/wp-content/uploads/2015/03/vCenter_blog_image3.png" alt="vCenter_blog_image3" width="429" height="320" data-id="6017" /></p>
<p style="text-align: center;">Figure 3 vCenter as a compute with OpenContrail</p>
<h4>Option 4</h4>
<p>Under this option, customers can continue to use their existing VMware deployments using VDS VLANs and connect them to the growing OpenStack clouds. OpenContrail will contrail OVSDB enabled ToR switches which will perform translation of VLANs in VMware clusters to VXLAN tunnels in OpenStack clouds and vice versa.</p>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-6018 aligncenter" src="http://www.opencontrail.org/wp-content/uploads/2015/03/vCenter_blog_image4.png" alt="vCenter_blog_image4" width="462" height="340" data-id="6018" /></p>
<p style="text-align: center;">Figure 4 vCenter and OpenStack with OpenContrail</p>
<h4>OpenContrail and vCenter Integration (Option 2)</h4>
<p>OpenContrail system consists of two main components: OpenContrail Controller and OpenContrail vRouter. The OpenContrail Controller is a logically centralized but physically distributed controller responsible for providing the configuration, control, and analytics functions of the virtualized network. The OpenContrail vRouter implements the distributed forwarding plane.</p>
<p>Three main components involved in an OpenContrail + vCenter solution are:</p>
<ol>
<li>OpenContrail Controller</li>
<li>OpenContrail vRouter VM</li>
<li>vCenter Server</li>
</ol>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-6019 aligncenter" src="http://www.opencontrail.org/wp-content/uploads/2015/03/vCenter_blog_image5.png" alt="vCenter_blog_image5" width="865" height="603" data-id="6019" /></p>
<p style="text-align: center;">Figure 5 Detailed View (OpenContrail + vCenter Integration)</p>
<h4><a name="_Toc286685254"></a><a name="_Toc286685255"></a>OpenContrail Controller (OpenContrail vCenter Plugin)</h4>
<p>The OpenContrail vCenter Plugin performs two main functions:</p>
<ol>
<li>When a Port Group is created using vCenter and it is associated with an IP-pool, the vCenter plugin creates corresponding virtual-network on OpenContrail Controller. When a Virtual Machine is spawned using vCenter with the VM’s network adapter in a PortGroup, the plugin creates corresponding Virtual Machine object and VM interface object on OpenContrail. This is analogous to the OpenContrail Neutron plugin in OpenStack clouds.</li>
<li>The plugin also informs the vRouter agent about the VM interface AddPort event. The vRouter agent pulls the relevant routing table information from the OpenContrail Control node in response to the AddPort event. This is analogous to the nova vif driver in OpenStack clouds. Finally, the agent can respond to the DHCP requests from the tenant VMs and the vRouter can perform L3/L2 functions.</li>
</ol>
<p>Thus, the plugin communicates with three entities – vCenter Server, OpenContrail API Server, and the vRouter agent.</p>
<h4>OpenContrail vRouter VM</h4>
<p>OpenContrail vRouter VM has the vRouter kernel module, which implements the distributed forwarding plane. As shown in the Figure 5, the OpenContrail vRouter VM has two interfaces. One interface is part of the Fabric PortGroup (PG) and serves as the interface towards the IP Fabric. The other interface is part of the Trunk PG (on the vDS). The Trunk PG sees tenant traffic from all PGs.</p>
<p>In the VMware vCenter environment, the OpenContrail vRouter VM will be present on every ESXi host.</p>
<h4>Features:</h4>
<p>The following table lists the mapping between vCenter and OpenContrail entities.</p>
<table>
<tbody>
<tr>
<td width="283">vCenter</td>
<td width="223">OpenContrail</td>
</tr>
<tr>
<td width="283">Port Group (PG)</td>
<td width="223">Virtual Network</td>
</tr>
<tr>
<td width="283">IP Pool &amp; Range</td>
<td width="223">Subnet &amp; Allocation Pool</td>
</tr>
</tbody>
</table>
<p>Integrating OpenContrail with a VMware cluster brings an open source implementation of fully distributed network policy, DHCP and DNS, floating IP, security groups and service chaining to the VMware cluster.</p>
<p>Thus, a VMware cluster gets transformed into an open, full featured, secure, multi-tenant cloud solution.</p>
<p>This <a href="http://youtu.be/aQJAEs1Pc_A">YouTube video</a> contains a demonstration of the integrated solution.</p>
<h2>References</h2>
<ol>
<li><a href="http://www.juniper.net/techpubs/en_US/contrail2.2/topics/task/configuration/config-vmware-esxi-vnc.html" target="_blank">http://www.juniper.net/techpubs/en_US/contrail2.2/topics/task/configuration/config-vmware-esxi-vnc.html</a></li>
<li><a href="http://www.vmware.com/files/pdf/virtual_networking_concepts.pdf">http://www.vmware.com/files/pdf/virtual_networking_concepts.pdf</a></li>
<li><a href="http://www.vmware.com/files/pdf/techpaper/vsphere-distributed-switch-best-practices.pdf">http://www.vmware.com/files/pdf/techpaper/vsphere-distributed-switch-best-practices.pdf</a></li>
<li><a href="https://pubs.vmware.com/vsphere-50/topic/com.vmware.ICbase/PDF/vsphere-esxi-vcenter-server-50-basics-guide.pdf">https://pubs.vmware.com/vsphere-50/topic/com.vmware.ICbase/PDF/vsphere-esxi-vcenter-server-50-basics-guide.pdf</a></li>
<li><a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1010691">http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1010691</a></li>
<li><span style="text-decoration: underline;"><a href="http://pubs.vmware.com/vsphere-51/topic/com.vmware.vsphere.networking.doc/GUID-A9287D46-FDE0-4D64-9348-3905FEAC7FAE.html">http://pubs.vmware.com/vsphere-51/topic/com.vmware.vsphere.networking.doc/GUID-A9287D46-FDE0-4D64-9348-3905FEAC7FAE.html</a></span></li>
</ol>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>The importance of Abstraction. The concept of &#8220;SDN as a Compiler&#8221;.</title>
		<link>https://tungsten.io/the-importance-of-abstraction-the-concept-of-sdn-as-a-compiler/</link>
		
		<dc:creator><![CDATA[Bruno Rijsman]]></dc:creator>
		<pubDate>Mon, 16 Dec 2013 21:27:52 +0000</pubDate>
				<category><![CDATA[Automation]]></category>
		<category><![CDATA[Security]]></category>
		<category><![CDATA[Uncategorized]]></category>
		<guid isPermaLink="false">http://opencontrail.org/?p=1001</guid>

					<description><![CDATA[OpenContrail consists of two parts.  One part is the virtual router (vRouter) which sits in the hypervisor of virtualized servers.  The other part is a logically centralized SDN controller which...]]></description>
										<content:encoded><![CDATA[<p style="text-align: justify;">OpenContrail consists of two parts.  One part is the virtual router (vRouter) which sits in the hypervisor of virtualized servers.  The other part is a logically centralized SDN controller which provides north bound REST APIs for managing the network.</p>
<p><span id="more-1001"></span></p>
<p style="text-align: justify;">The fact that the OpenContrail controller is logically centralized simplifies network management a lot.  Instead of having to manage lots of discrete devices, you have a single point of management.  (Whilst OpenContrail is <i>logically</i> centralized it is actually <i>physically</i> distributed: it is implemented as a cluster of nodes for high availability and scale-out.)</p>
<p style="text-align: justify;">But the <i>real</i> key advantage of OpenContrail is that it allows you to manage the network at a high level of abstraction.  That is the topic of this blog post.</p>
<p style="text-align: justify;">What does this rather academic sounding statement &#8220;<i>management at a high level of abstraction</i>&#8221; really mean?</p>
<p style="text-align: justify;">Traditionally, when you want to deploy some complex scenario such as a Layer 3 Virtual Private Network (L3VPN) you have to configure lots and lots of stuff.  You have to configure routing instances, route targets, route distinguishers, import and export policies, interfaces, BGP, RSVP, etc. etc. etc.  All of these configuration statements are at a really low level of abstraction.  Instead of telling the routers <i>what</i> it is you are trying to achieve, you are giving the routers an excruciatingly detailed description of <i>how</i> to achieve it.  These configurations can become very complex and large; it is not uncommon to have hundreds or even thousands of configuration statements on each individual router.  In fact, at large service providers I have seen routers which multiple <i>hundreds of thousands </i>of lines of configuration.  I&#8217;m not exaggerating.</p>
<p style="text-align: justify;">Not so with OpenContrail.  The north-bound REST APIs provided by OpenContrail expose concepts at a much higher level of abstraction.  These are APIs at the service layer instead of the technology layer.  You instruct OpenContrail <i>what</i> to do, rather than <i>how </i>to do it.</p>
<p style="text-align: justify;">Let&#8217;s give some concrete examples to illustrate this concept.  Using combination of OpenContrail and OpenStack REST APIs calls you can do things such as:</p>
<ul style="text-align: justify;">
<li>Create virtual networks.</li>
<li>Create tenant Virtual Machines (VMs) and attach them to virtual networks.  Virtual machines connected to the same virtual network can communicate with each other.</li>
<li>Create policies and apply them at the boundary of two virtual networks.  This allows virtual machines on different virtual networks to communicate with each other subject to the rules and constraints expressed in the policy.</li>
<li>Create service virtual machines, also known as Virtual Network Functions (VNFs), such as for example a virtual firewall.  Policies can force traffic to be steered through one or a sequence of service virtual machines.  This is referred to as a service chaining.</li>
<li>Connect virtual networks to physical networks or to bare metal servers through using a gateway router or switch.</li>
</ul>
<p style="text-align: justify;">The following figure illustrates how the individual &#8220;Lego blocks&#8221; of virtual networks, virtual machines, policies, and gateways can be combined into some useful assembly.</p>
<p style="text-align: center;" align="center"><img loading="lazy" decoding="async" class="alignnone size-full wp-image-5749" src="http://www.opencontrail.org/wp-content/uploads/2013/12/bruno_1216_blogpost_image1.png" alt="bruno_1216_blogpost_image1" width="609" height="215" data-id="5749" /><br clear="ALL" /> Figure 1: Service Layer Abstraction</p>
<p style="text-align: justify;">Two important observations on the north-bound REST APIs:</p>
<ul style="text-align: justify;">
<li>All of these things can also be done through the Graphical User Interface (GUI) which is simply an application on top of the REST APIs.</li>
<li>Upcoming release 1.03 OpenContrail will provide REST APIs which are compatible with Amazon Web Services (AWS) <a href="http://aws.amazon.com/ec2/">Elastic Compute Cloud (EC2)</a> and <a href="http://aws.amazon.com/vpc/">Virtual Private Cloud (VPC)</a>.  This makes it easy to migrate workloads back and forth between a private cloud implemented with Contrail and a public cloud with AWS EC2 and VPC compatible APIs.</li>
</ul>
<p style="text-align: justify;">Now, what does OpenContrail actually do under the hood to implement these service layer abstractions?  Most users will say, <a href="http://www.youtube.com/watch?v=GQ5ICXMC4xY">as Clark Gable famously said in <i>Gone with the Wind</i></a>: &#8220;Frankly, my dear, I don&#8217;t give a damn.&#8221;  This is the beauty of OpenContrail.  It allows users to manage their network at a high level of abstraction, using only concepts like virtual networks, virtual machines, policies and gateways.  When we say manage, we don&#8217;t only mean configuration but also operational state and analytics.  Most users neither care nor need to know how things actually work under the hood.</p>
<p style="text-align: justify;">The nice thing about having a high level of abstraction is that it allows users to create virtual networks and to interconnect virtual networks with policies without needing a deep knowledge of networking.  This is not just a nice benefit for operators &#8211; it is a crucial requirement for allowing cloud tenant to self-manage their own virtual networks.</p>
<p style="text-align: justify;">That said, some small minority of people, e.g. the network operations team, does care and does need to know.</p>
<p style="text-align: justify;">These abstractions can be implemented in multiple ways.  For example, historically data centers have used VLANs to implement virtual networks.  And in Research and Education (R&amp;E) environments it is popular to use OpenFlow for what is typically called network slicing in those environments.</p>
<p style="text-align: justify;">For various scaling and stability reasons (which are explained in the white paper <a href="http://www.juniper.net/us/en/local/pdf/whitepapers/2000515-en.pdf">&#8220;Proactive Overlay versus Reactive Hop-by-Hop &#8211; Juniper&#8217;s Motivations for the Contrail Architecture Explained.&#8221;</a>) the industry as a whole is converging on using &#8220;proactive overlays&#8221; for network virtualization in large scale deployments.  There is an <a href="http://www.youtube.com/watch?v=e_hqDFUOTTw">excellent tutorial on overlay networking by Ivan Pepelnjak</a> on YouTube. (Gratuitous plug: Ivan also runs the <a href="http://www.ipspace.net">ipspace.net</a> website where you can follow his blog posts and <a href="http://www.ipspace.net/Subscription_to_ioshints_webinars">subscribe to all of his truly excellent webinars</a> &#8211; at just under $200 per year it is an excellent value and highly recommended.)</p>
<p style="text-align: justify;"><br clear="ALL" /> In order to implement the service layer abstractions shown in figure 1 above, the OpenContrail SDN controller uses XMPP to communicate with virtual routers (vRouters) and uses BGP to communicate with physical gateway routers and switches.  The OpenContrail SDN controller creates all the right routing instances in the right places, creates all the right overlay tunnels in the right places, puts all the right routes in the right forwarding tables, etc. etc. etc. to implement the required service layer abstractions.  This is illustrated in the following figure.</p>
<p align="center"><img loading="lazy" decoding="async" class="alignnone size-full wp-image-5750" src="http://www.opencontrail.org/wp-content/uploads/2013/12/bruno_1216_blogpost_image2.png" alt="bruno_1216_blogpost_image2" width="485" height="583" data-id="5750" /></p>
<p align="center">Figure 2: Technology Layer Implementation</p>
<p style="text-align: justify;">Even though this example only contains a handful of servers, virtual machines, and gateways, it is already starting to look like a bowl of spaghetti.  Just imagine what this diagram would have looked like if we had thousands of servers and tens of thousands of virtual machines.  It would be a nightmare to configure that manually.</p>
<p style="text-align: justify;">But that&#8217;s exactly what we used to do before automation and SDN. Before SDN introduced logically centralized APIs at a high level of abstraction, we used to configure networks at this low level of abstraction.  Now, with OpenContrail, all of this complexity gets automatically created under the hood.  The only thing you need to do is to instantiate the service layer abstractions as shown in figure 1.</p>
<p style="text-align: justify;">What&#8217;s the magic in OpenContrail that achieves this?  How is OpenContrail able to figure out how to translate the high level abstractions into low level operations on the network?</p>
<p style="text-align: justify;">OpenContrail uses a combination of formal data models and a transformation engine to accomplish this.  This is illustrated in figure 3 below.</p>
<p><img loading="lazy" decoding="async" class="size-full wp-image-5751 aligncenter" src="http://www.opencontrail.org/wp-content/uploads/2013/12/bruno_1216_blogpost_image3.png" alt="bruno_1216_blogpost_image3" width="564" height="420" data-id="5751" /></p>
<p style="text-align: center;"><span style="text-align: center;">Figure 3: Data Models and Transformation Engine</span></p>
<p style="text-align: justify;">OpenContrail contains a data model which describes the high level service layer abstractions.  This data model contains objects such as virtual networks, virtual machines, and policies.  The objects in the service data model can be created, modified, deleted, and queried using north bound REST APIs.  In fact, the north bound REST APIs are automatically generated from this data model.</p>
<p style="text-align: justify;">OpenContrail also contains another data model which describes the low level technology implementation details.  Here we have objects such as routing instances, route targets, etc.</p>
<p style="text-align: justify;">Between the service data model and the technology data model sits a transformation engine.</p>
<p style="text-align: justify;">The transformation engine is responsible for translating the service data model to the technology data model.  When you invoke the north bound REST APIs to instantiate a virtual network object in the service data model, the transformation engine wakes up and figures out &#8220;Hmmm&#8230;. you way you want a virtual network. That means I need to create these routing instances over here, and those overlay tunnels over there, and I need to put these routes in those routing instances.&#8221;  The transformation engine then instantiates objects in the technology data model to represent the existence of those low level objects.</p>
<p style="text-align: justify;">At this point, nothing has actually happened yet in the network.  The only thing we have done so far is that we have created a more detailed description of the desired state of the network.</p>
<p style="text-align: justify;">The south bound protocols fill this last remaining gap.  These south bound protocols listen for changes in the technology data model and are responsible for &#8220;<a href="http://www.youtube.com/watch?v=-ZxHAZChcYU">making it so</a>&#8221; in the network.  There are multiple south bound protocols, each responsible for particular subsets of the technology data model.  For example, the XMPP south bound protocol is responsible for populating routes in virtual routers whereas the BGP south bound protocol is responsible for populating routes in physical gateway routers and switches.</p>
<p style="text-align: justify;">The above description is somewhat idealized and simplified.  In reality we can have a hierarchy of multiple layers of abstractions.  Each time something changes in the top layer of abstraction it percolates down the layers until it reaches the bottom of the hierarchy at which point the south bound protocols push it into the network.</p>
<p style="text-align: justify;">OpenContrail uses a publish subscribe (&#8220;pubsub&#8221;) <a href="http://en.wikipedia.org/wiki/IF-MAP">IF-MAP</a> message bus to choreograph the sequence of events.  Changes in the service data model generate events.  The transformation engine subscribes to these events and executes transformation rules when these events occur.  Those transformation rules make changes in the technology data model, which also generates events.  Each south bound protocol subscribes to events for particular subsets of the technology data model.  When those events occur, the relevant south bound protocol (e.g. XMPP or BGP) is woken up and it sends a message to the relevant network device to implement the change.</p>
<p style="text-align: justify;">The fact that OpenContrail uses a pubsub message bus is one of the reasons why it can massively scale out.  Publishers and subscribers can be distributed across multiple nodes which communicate events with each other using the message bus.</p>
<p style="text-align: justify;">The OpenContrail uses the term &#8220;SDN as a Compiler&#8221; to describe this architecture.  You can think of the service data model as a high level programming language (e.g. Java or Scala).  You can think of the technology data model as a low level programming language (e.g. bytecode or assembly).  You can think of the transformation engine as a compiler which is responsible for &#8220;compiling&#8221; the service data model into the technology data model.  It&#8217;s a very fancy compiler though &#8211; it is an event-driven incremental Just In Time (JIT) compiler.</p>
<p style="text-align: justify;">Up until now we have described everything in terms of configuration.  However, something similar happens in the reverse direction for operational state and analytics.  The south bound protocols are responsible for collecting operational state and analytics events from the network.  The transformation engine is responsible for correlating and aggregating these low level states and events into more meaningful information at the service layer.</p>
<p style="text-align: justify;">For example, the Contrail virtual routers (vRouters) generate analytics events for every individual flow in the network.  The analytics nodes in the Contrail SDN controller contain collectors which store all of these events in a horizontally scalable distributed database.  They also contain a query engine which allow you to ask service layer questions such as &#8220;what was the total amount of traffic from virtual network A to virtual network B between 9am and 10am this morning?&#8221;</p>
<p style="text-align: justify;">For some use cases it even makes sense for the transformation engine to take not just configuration state as input but also operational state.  This creates feedback loops as shown in 3 above.</p>
<p style="text-align: justify;">For example, in a traffic engineering use case we combine the bandwidth demand matrix (high level configuration state), the administrative constraints (high level configuration state), the current topology of the network (high level operational state), and the current amount of traffic on the network (high level operational state) to compute a globally optimal set of paths e.g. LSPs (low level configuration state).  Those LSPs are instantiated in the network using a south bound protocol (e.g. <a href="http://tools.ietf.org/html/rfc5440">PCEP</a>).  Other south bound protocols are responsible for collecting the operational state (e.g. <a href="https://datatracker.ietf.org/doc/draft-gredler-bgp-te/">BGP-TE</a> for topology discovery and netflow for traffic measurement).</p>
<p style="text-align: justify;">The current use cases implemented in Contrail don&#8217;t involve such feedback loops yet.  When those uses cases are introduced we will get into some interesting control theory and stability questions.  This would be a great area for academic research.</p>
<p style="text-align: justify;">One of key points to take away from all of this is that OpenContrail is not just a point product to solve a particular set of specific use cases such as network virtualization and service chaining.  OpenContrail is actually a massively scalable framework for dynamic network management and control.</p>
<p style="text-align: justify;">We actively encourage the open source community to extend OpenContrail for other additional use cases by extending the high level data model with new types of services, by extending the low level data model with new types of technologies, by implementing new south bound protocols to push those new technology objects into the network, and by introducing new rules in the transformation engine.</p>
<p style="text-align: justify;">Here are some pointers into the OpenContrail code which is available in the<a href="https://github.com/Juniper/contrail-controller"> Juniper/contrail-controller Github repository</a> to get you started.</p>
<p style="text-align: justify;">The <a href="https://github.com/Juniper/contrail-controller/tree/master/src/schema">src/schema</a> directory contains all the data models, both the high level service data models and the low level technology data models.</p>
<p style="text-align: justify;">OpenContrail currently uses an XML-based data modeling language which is based on IF-MAP.  The data models are stored in XML Schema Definition (XSD) files which contain additional annotations in the form of structured comments (referred to as IFMAP-SEMANTICS-IDL).  The syntax and the semantics of those structured comments is described at the top of the file <a href="https://github.com/Juniper/contrail-controller/blob/master/src/schema/vnc_cfg.xsd">vnc_cfg.xsd</a>.</p>
<p style="text-align: justify;">As an example, here is an excerpt from the file <a href="https://github.com/Juniper/contrail-controller/blob/master/src/schema/vnc_cfg.xsd">vnc_cfg.xsd</a> which defines the virtual-machine object and the virtual-machine-interface object, and the relationship between them.</p>
<p style="text-align: center;" align="center"><img loading="lazy" decoding="async" class="alignnone size-full wp-image-5753" src="http://www.opencontrail.org/wp-content/uploads/2013/12/bruno_1216_blogpost_image4.png" alt="bruno_1216_blogpost_image4" width="628" height="186" data-id="5753" /></p>
<p style="text-align: center;" align="center">Figure 4: Example Data Model</p>
<p style="text-align: justify;">An earlier blog post by Pedro Marques titled &#8220;<a href="http://opencontrail.org/adding-bgp-knob-to-opencontrail/">Adding a BGP knob to OpenContrail</a>&#8221; describes how to add a new element to the data model.</p>
<p style="text-align: justify;">The transformation engine rules are implemented as Python scripts in directory <a href="https://github.com/Juniper/contrail-controller/tree/master/src/config/schema-transformer">src/config/schema-transformer</a>.</p>
<p style="text-align: justify;">Each of the south bound protocols is stored in its own directory, for example directory <a href="https://github.com/Juniper/contrail-controller/tree/master/src/xmpp">src/xmpp</a> for XMPP and directory <a href="https://github.com/Juniper/contrail-controller/tree/master/src/bgp">src/bgp</a> for BGP.  The main function for the controller node in file <a href="https://github.com/Juniper/contrail-controller/blob/master/src/control-node/main.cc">src/control-node/main.cc</a> instantiates the south bound protocols.</p>
<p style="text-align: justify;">Phew! You&#8217;ve made it to the end of this very long blog post.  Hopefully you&#8217;ve learned something about the importance of having the right level of abstraction (namely a high level of abstraction) in the north bound interface provided by the SDN controller.  This isolates the applications running on the network from the vendor specific implementation details.  Using the concepts of transformation engines and &#8220;SDN as a Compiler&#8221; is not just elegant; it turns the SDN controller into a resilient, horizontally scalable, general purpose extensible platform for many current and future use cases.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Multi-tenant IaaS using OpenStack + OpenContrail</title>
		<link>https://tungsten.io/multi-tenant-iaas-using-openstack-opencontrail/</link>
		
		<dc:creator><![CDATA[Takashi Sogabe]]></dc:creator>
		<pubDate>Wed, 11 Dec 2013 09:07:12 +0000</pubDate>
				<category><![CDATA[Automation]]></category>
		<category><![CDATA[Security]]></category>
		<category><![CDATA[Uncategorized]]></category>
		<guid isPermaLink="false">http://opencontrail.org/?p=950</guid>

					<description><![CDATA[The following presentation was given by Takashi Sogabe, software engineer at Internet Initiative Japan, at an OpenStack Meetup in November.  Sogabe-san explored his testing of OpenStack and OpenContrail.  His slides...]]></description>
										<content:encoded><![CDATA[<p style="text-align: justify;">The following presentation was given by Takashi Sogabe, software engineer at Internet Initiative Japan, at an OpenStack Meetup in November.  Sogabe-san explored his testing of OpenStack and OpenContrail.  His slides are used with permission here.</p>
<p><span id="more-950"></span></p>
<p><a href="http://www.opencontrail.org/wp-content/uploads/2013/12/openstack-users-ja-sogabe-e.pdf">Multi-tenant IaaS using OpenStack + OpenContrail &#8211; PDF</a></p>
]]></content:encoded>
					
		
		
			</item>
	</channel>
</rss>
